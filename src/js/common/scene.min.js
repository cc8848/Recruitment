var util=function(){var a=function(){return{width:document.body.offsetWidth,height:document.body.offsetHeight}},b=function(){var a=navigator.userAgent.toLowerCase(),b=a.indexOf("micromessenger")>-1?"weixin":/qq\/([\d\.]+)*/.test(a)?"qq":"web";return b},c=function(){var a=document.createElement("div"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1},d=function(a,b){var c=document.createElement("div"),d={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"};for(var e in d)if(void 0!==c.style[e]){a.addEventListener(d[e],b);break}},e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){return setTimeout(a,1e3/60)},f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||function(a){return clearTimeout(a,1e3/60)},g=function(){var a,b=Array.prototype.slice.call(arguments,0),c=b[0],d=!1;"boolean"==typeof b[b.length-1]&&(d=b[b.length-1],b.pop());for(var e=1;e<b.length;e++)for(a in b[e])d&&"object"==typeof b[e][a]?(c[a]={},g(c[a],b[e][a],!0)):c[a]=b[e][a];return c},h=function(a,b){return a=a||null,function(){b.apply(a,arguments)}},i=function(a,b,c){var d=function(){var a=null;try{a=new ActiveXObject("microsoft.xmlhttp")}catch(b){try{a=new XMLHttpRequest}catch(c){window.alert("您的浏览器不支持ajax，请更换！")}}return a},e="";if("object"==typeof b)for(var f in b)e+="&"+f+"="+b.name;e.replace(/^&/,"?");var g=d();a&&(g.open("get",a+e,!0),g.send(null),g.onreadystatechange=function(){4==g.readyState&&200==g.status&&c&&c()})},j=function(a,b){var c=a.className,d=new RegExp("(^"+b+"\\s+)|(\\s+"+b+"\\s+)|(\\s+"+b+"$)|(^"+b+"$)","g");if(c){if(d.test(c))return;a.className=c+" "+b}else a.className=b},k=function(a,b){var c=a.className,d=new RegExp("(^"+b+"\\s+)|(\\s+"+b+"\\s+)|(\\s+"+b+"$)|(^"+b+"$)","g");c=c.replace(d,function(a,b,c){return c?" ":""}),a.className=c},l=function(a,b,c){b=b.replace(/\-/g,"\\-");var d=[0];if(arguments.length>2)for(var e=2;e<arguments.length;++e)d[e-2]=arguments[e];if("none"==a||""==a)return null;var f=new RegExp(b+"\\(([^\\)]+)\\)","ig"),g=a.match(f),h=[],i=[];if(g&&g.length>0){g=g[0],h=g.replace(f,"$1").split(",");for(var e=0;e<d.length;++e)i.push(h[d[e]])}return 1==i.length?i=i[0]:c&&(i=i[c]),i},m=function(){};return{getOffset:a,noop:m,transitionEnd:c,animationEnd:d,RAF:e,cRAF:f,extend:g,proxy:h,getBF:b,get:i,addClass:j,removeClass:k,getTransform:l}}(),Event=function(){var a={},b=function(b,c,d){return"object"==typeof d?(d.event||(d.event={}),d.event[b]||(d.event[b]=[]),void d.event[b].push(c)):(a[b]||(a[b]=[]),void a[b].push(c))},c=function(b,c,d){var e=a[b];if(c.event&&c.event[b]&&(e=c.event[b]),void 0!=e)for(var f=0;f<e.length;f++)e[f].call(c,d||{})};return{bind:b,trigger:c}}(),timer={remainTime:function(a,b,c,d,e,f){var g=new Date(a,b-1,c,d,e,f).getTime(),h=(new Date).getTime(),i=g-h;if(0>i)return{hour:0,min:0,sec:0};var j=Math.floor(i/36e5);i%=36e5;var e=Math.floor(i/6e4);i%=6e4;var k=Math.floor(i/1e3);return{hour:j,min:e,sec:k}}};Function.prototype.delegate=function(a){var b=this;return function(){b.apply(a,arguments)}};var Scroller=function(a,b){if(a||"string"==typeof a){var c=a,d=b||{};this.init(c,d)}},_default_opts={Scontainer:".container",hScroll:!1,vScroll:!1,momentum:!1,bounce:!1,lockDirection:!0,snap:!0,nesting:!1};Scroller.prototype={init:function(a,b){this.opts=util.extend({},_default_opts,b),console.log(this.opts);var c=document.querySelector(a+" "+this.opts.Scontainer),d=document.querySelector(a);this._initUi(c,d),this._mixH=d.offsetHeight-c.offsetHeight,this._mixW=d.offsetWidth-c.offsetWidth,this.$el.style.webkitTransform="translate3D(0, 0, 0)",this.opts.hScroll&&(this.lock="lock_y"),this.opts.vScroll&&(this.lock="lock_x"),this.opts.hScroll&&this.opts.vScroll&&(this.lock=void 0),this.initEvent(b)},_initUi:function(a,b){if(this.opts.snap){var c=b.clientHeight,d=b.clientWidth;this._clientW=d,this._clientH=c;for(var e=a.querySelectorAll("#"+a.id+">li"),f=0,g=e.length;g>f;f++)e[f].style.width=this._clientW+"px",e[f].style.height=this._clientH+"px";a.style.height=a.scrollHeight+"px",a.style.width=a.scrollWidth+"px"}else a.style.height=a.scrollHeight+"px",a.style.width=a.scrollWidth+"px";this.$el=a,this.$parent=b,this.$li=e},_touchstart:function(a){this.drag||(this.drag=!0,target=a.targetTouches[0],this._x=this._x||0,this._y=this._y||0,this.startX=target.pageX,this.startY=target.pageY,this.srartTime=new Date,this._clientX=target.pageX-this._x,this._clientY=target.pageY-this._y,this.$el.style.webkitTransitionDuration="0ms",this.$el.addEventListener("touchmove",this.update.delegate(this)),this.$el.addEventListener("touchend",this.clearEvent.delegate(this)),a.preventDefault(),Event.trigger("scrollBefore",this,a))},initEvent:function(a){a=a||this.opts,this.fun=this._touchstart.delegate(this),this.$el.addEventListener("touchstart",this.fun),this.opts.momentum&&this.$el.addEventListener(util.transitionEnd().end,function(){this.$el.style.webkitTransitionDuration="0ms";var a=this.currNum,b=a?-1*a:"0";Event.trigger("scrollEnd",this,b)}.delegate(this),!1),a.scrollEnd&&Event.bind("scrollBefore",a.scrollBefore||util.noop,this),a.scrollEnd&&Event.bind("scrollEnd",a.scrollEnd||util.noop,this),a.onScroll&&Event.bind("onScroll",a.onScroll||util.noop,this),a.onTouchEnd&&Event.bind("onTouchEnd",a.onTouchEnd||util.noop,this)},scrollTo:function(a){if(this._x=a.x||this._x,this._y=a.y||this._y,this._x=this._x||0,this._y=this._y||0,this.opts.snap){if(a.y>0||a.x>0)var b=Math.ceil;else var b=Math.floor;var c=b(this._y/this._clientH);this._x=b(this._x/this._clientW)*this._clientW,this._y=c*this._clientH}this.$el.style.webkitTransform="translate3d("+this._x+"px, "+this._y+"px, 0px)",this.$el.style.webkitTransitionDuration="300ms";this.currNum=c||0,Event.trigger("onTouchEnd",this,{x:this._x,y:this._y})},reset:function(){this.$el.style.webkitTransform="translate3d(0px, 0px, 0px)",this._x=0,this._y=0},draw:function(){return this._shouldMoved?(this.$el.style.webkitTransform="translate3D("+this._x+"px, "+this._y+"px, 0)",this._shouldMoved=!1,void(rAF=RAF(this.draw.delegate(this)))):void(rAF=RAF(this.draw.delegate(this)))},clearEvent:function(a){if(this.drag){this.drag=!1,this.$el.removeEventListener("touchmove",this.update,!1),this.$el.removeEventListener("touchend",this.clearEvent,!1);var b,c=a.changedTouches[0],d=c.pageX,e=c.pageY,f=this._x,g=this._y;if(void 0==this.lock||"lock_x"==this.lock){var h=e-this.startY<0?-1:1;b=h}if(void 0==this.lock||"lock_y"==this.lock){var i=d-this.startX<0?-1:1;b=i}if(this.opts.momentum){{var j=new Date,k=j-this.srartTime;Math.abs(b/k)}this.$el.style.webkitTransitionDuration="500ms"}if(this.opts.snap){if(h>0||i>0)var l=Math.ceil;else var l=Math.floor;var m;m=l(g/this._clientH),f=l(f/this._clientW)*this._clientW,g=m*this._clientH,"lock_y"==this.lock&&(m=l(f/this._clientW))}this.opts.momentum&&!this.opts.snap&&((void 0==this.lock||"lock_y"==this.lock)&&(f+=b/k*1e4),(void 0==this.lock||"lock_x"==this.lock)&&(g+=b/k*1e4)),void 0==this.lock||"lock_x"==this.lock?(g>0&&(g=0),g<this._mixH&&(g=this._mixH)):(void 0==this.lock||"lock_y"==this.lock)&&(f>0&&(f=0),f<this._mixW&&(f=this._mixW)),this._x=f,this._y=g,this.currNum=m||0,this.$el.style.webkitTransform="translate3d("+f+"px, "+g+"px, 0px)",Event.trigger("onTouchEnd",this,{x:this._x,y:this._y}),this.opts.nesting&&(this.lock=void 0),this.opts.lockDirection&&this.opts.hScroll&&this.opts.vScroll&&(this.lock=void 0)}},update:function(a){if(this.drag){var b=a.targetTouches[0],c=b.pageY-this._clientY,d=b.pageX-this._clientX;if(c!=d){var e=Math.abs(this._y-c)>Math.abs(this._x-d)?1:-1;if(this.opts.lockDirection&&void 0==this.lock&&(1==e?this.lock="lock_x":-1==e&&(this.lock="lock_y")),"lock_x"==this.lock&&-1==e)return a.stopPropagation(),void(this.opts.nesting&&(this.opts.nesting.drag=!1));if("lock_y"==this.lock&&1==e)return a.stopPropagation(),void(this.opts.nesting&&(this.opts.nesting.drag=!1));(void 0==this.lock||"lock_x"==this.lock)&&(this.opts.bounce?(c>0&&(c/=3),c<this._mixH&&(c=this._mixH+(c-this._mixH)/3)):(c>0&&(c=0),c<this._mixH&&(c=this._mixH)),this._y=c),(void 0==this.lock||"lock_y"==this.lock)&&(this.opts.bounce?(d>0&&(d/=3),d<this._mixW&&(d=this._mixW+(d-this._mixW)/3)):(d>0&&(d=0),d<this._mixW&&(d=this._mixW)),this._x=d),this._shouldMoved=!0,a.preventDefault(),Event.trigger("onScroll",this,{x:this._x,y:this._y})}}},destory:function(){this.$el.removeEventListener("touchstart",this.fun),this.$parent.style.overflow="visible"}};var WeixinApi=function(){"use strict";function a(a,b){b=b||{};var c=function(a){WeixinJSBridge.invoke("shareTimeline",{appid:a.appId?a.appId:"",img_url:a.imgUrl,link:a.link,desc:a.title,title:a.desc,img_width:"640",img_height:"640"},function(a){switch(a.err_msg){case"share_timeline:cancel":b.cancel&&b.cancel(a);break;case"share_timeline:confirm":case"share_timeline:ok":b.confirm&&b.confirm(a);break;case"share_timeline:fail":default:b.fail&&b.fail(a)}b.all&&b.all(a)})};WeixinJSBridge.on("menu:share:timeline",function(d){b.async&&b.ready?(window._wx_loadedCb_=b.dataLoaded||new Function,window._wx_loadedCb_.toString().indexOf("_wx_loadedCb_")>0&&(window._wx_loadedCb_=new Function),b.dataLoaded=function(a){window._wx_loadedCb_(a),c(a)},b.ready&&b.ready(d)):(b.ready&&b.ready(d),c(a))})}function b(a,b){b=b||{};var c=function(a){WeixinJSBridge.invoke("sendAppMessage",{appid:a.appId?a.appId:"",img_url:a.imgUrl,link:a.link,desc:a.desc,title:a.title,img_width:"640",img_height:"640"},function(a){switch(a.err_msg){case"send_app_msg:cancel":b.cancel&&b.cancel(a);break;case"send_app_msg:confirm":case"send_app_msg:ok":b.confirm&&b.confirm(a);break;case"send_app_msg:fail":default:b.fail&&b.fail(a)}b.all&&b.all(a)})};WeixinJSBridge.on("menu:share:appmessage",function(d){b.async&&b.ready?(window._wx_loadedCb_=b.dataLoaded||new Function,window._wx_loadedCb_.toString().indexOf("_wx_loadedCb_")>0&&(window._wx_loadedCb_=new Function),b.dataLoaded=function(a){window._wx_loadedCb_(a),c(a)},b.ready&&b.ready(d)):(b.ready&&b.ready(d),c(a))})}function c(a,b){b=b||{};var c=function(a){WeixinJSBridge.invoke("shareWeibo",{content:a.desc,url:a.link},function(a){switch(a.err_msg){case"share_weibo:cancel":b.cancel&&b.cancel(a);break;case"share_weibo:confirm":case"share_weibo:ok":b.confirm&&b.confirm(a);break;case"share_weibo:fail":default:b.fail&&b.fail(a)}b.all&&b.all(a)})};WeixinJSBridge.on("menu:share:weibo",function(d){b.async&&b.ready?(window._wx_loadedCb_=b.dataLoaded||new Function,window._wx_loadedCb_.toString().indexOf("_wx_loadedCb_")>0&&(window._wx_loadedCb_=new Function),b.dataLoaded=function(a){window._wx_loadedCb_(a),c(a)},b.ready&&b.ready(d)):(b.ready&&b.ready(d),c(a))})}function d(a,b){b=b||{};var c=function(a,c){if("timeline"==a.shareTo){var d=c.title;c.title=c.desc||d,c.desc=d}a.generalShare({appid:c.appId?c.appId:"",img_url:c.imgUrl,link:c.link,desc:c.desc,title:c.title,img_width:"640",img_height:"640"},function(c){switch(c.err_msg){case"general_share:cancel":b.cancel&&b.cancel(c,a.shareTo);break;case"general_share:confirm":case"general_share:ok":b.confirm&&b.confirm(c,a.shareTo);break;case"general_share:fail":default:b.fail&&b.fail(c,a.shareTo)}b.all&&b.all(c,a.shareTo)})};WeixinJSBridge.on("menu:general:share",function(d){b.async&&b.ready?(window._wx_loadedCb_=b.dataLoaded||new Function,window._wx_loadedCb_.toString().indexOf("_wx_loadedCb_")>0&&(window._wx_loadedCb_=new Function),b.dataLoaded=function(a){window._wx_loadedCb_(a),c(d,a)},b.ready&&b.ready(d,d.shareTo)):(b.ready&&b.ready(d,d.shareTo),c(d,a))})}function e(a,b){b=b||{},WeixinJSBridge.invoke("addContact",{webtype:"1",username:a},function(a){var c=!a.err_msg||"add_contact:ok"==a.err_msg||"add_contact:added"==a.err_msg;c?b.success&&b.success(a):b.fail&&b.fail(a)})}function f(a,b){a&&b&&0!=b.length&&WeixinJSBridge.invoke("imagePreview",{current:a,urls:b})}function g(){WeixinJSBridge.call("showOptionMenu")}function h(){WeixinJSBridge.call("hideOptionMenu")}function i(){WeixinJSBridge.call("showToolbar")}function j(){WeixinJSBridge.call("hideToolbar")}function k(a){a&&"function"==typeof a&&WeixinJSBridge.invoke("getNetworkType",{},function(b){a(b.err_msg)})}function l(){WeixinJSBridge.call("closeWindow")}function m(a){if(a&&"function"==typeof a){var b=this,c=function(){a(b)};"undefined"==typeof window.WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",c,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",c),document.attachEvent("onWeixinJSBridgeReady",c)):c()}}function n(){return/MicroMessenger/i.test(navigator.userAgent)}return{version:"2.1",ready:m,shareToTimeline:a,shareToWeibo:c,shareToFriend:b,generalShare:d,addContact:e,showOptionMenu:g,hideOptionMenu:h,showToolbar:i,hideToolbar:j,getNetworkType:k,imagePreview:f,closeWindow:l,openInWeixin:n}}();!function(a){var b={},c=function(a){this._source=[],this.fails=[],this._index=0,this.failed=0,this.loaded=0,this.percent="0%",this._init(a),this.total=this._source.length,this._load()};c.prototype={_rsuffix:/\.(js|css|mp3)$/,_init:function(a){if("string"==typeof a)this._source.push(a);else{if(!window.Array.isArray(a))throw"Loader Error: arguments must be String|Array.";this._source=a}},_get_load_method:function(a){var b=(b=a.match(this._rsuffix))?b[1]:"img";return"_"+b},_js:function(a,b){var c=this,d=window.document.createElement("script");d.onload=function(){b&&b.call(c,!0,a)},d.onerror=function(){b&&b.call(c,!1,a)},d.type="text/javascript",d.src=a,window.document.head.appendChild(d)},_css:function(a,b){var c=this,d=window.document.createElement("link");d.type="text/css",d.rel="stylesheet",d.href=a,window.document.head.appendChild(d),b&&b.call(c,!0,a)},_img:function(a,c){var d=this,e=new Image;e.onload=function(){b[a]=e,c&&c.call(d,!0,a)},e.onerror=function(){c&&c.call(d,!1,a)},e.src=a},_mp3:function(){},_load:function(){if(this._index==this._source.length)return this._onend();var a=this._source[this._index];if(a){var b=this._get_load_method(a);this[b](a,this._loadend),this._onloadstart(a)}},_loadend:function(a,b){a?++this.loaded:(++this.failed,this.fails.push(b)),++this._index,this.percent=window.Math.ceil(this._index/this.total*100)+"%",this._onloadend(a,b),this._load()},_onloadstart:function(){},_onloadend:function(){},_onend:function(){},loadstart:function(a){return"function"==typeof a&&(this._onloadstart=a),this},loadend:function(a){return"function"==typeof a&&(this._onloadend=a),this},complete:function(a){return"function"==typeof a&&(this._onend=a),this},image:function(a,c){if(1==arguments.length){if(void 0==a)return b;var d=b[a];return d?d:(d=new Image,d.src=a,d)}2==arguments.length&&(b[a]=c)}};var d=function(a,b,d){var e=window.document.createElement("style");e.innerHTML="@-webkit-keyframes loading{0%{-webkit-transform:rotate(0deg);}100%{-webkit-transform:rotate(360deg);}}@-moz-keyframes loading{0%{-moz-transform:rotate(0deg);}100%{-moz-transform:rotate(360deg);}}@-o-keyframes loading{0%{-o-transform:rotate(0deg);}100%{-o-transform:rotate(360deg);}}@-ms-keyframes loading{0%{-ms-transform:rotate(0deg);}100%{-ms-transform:rotate(360deg);}}@keyframes loading{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}.mp_loading{position:absolute; width:100%; height:100%; overflow:hidden; background-color:#E44B46; left:0; top:0; -webkit-transform-style:preserve-3d; z-index:1;}.mp_loading_clip{position:absolute; left:50%; top:50%; width:60px; height:60px; margin:-30px 0 0 -30px; overflow:hidden;  -webkit-animation:loading 1.2s linear infinite; -moz-animation:loading 1.2s linear infinite; -o-animation:loading 1.2s linear infinite; -ms-animation:loading 1.2s linear infinite; animation:loading 1.2s linear infinite;}.mp_loading_bar{position:absolute; left:0; top:0; width: 54px;height: 54px; border-radius:50px; overflow:hidden; clip: rect(0px,36px,70px,0); background:transparent; border:3px solid #fff; -webkit-mask:-webkit-gradient(linear,0 0,0 100%,from(rgba(255,255,255,1)),to(rgba(255,255,255,0)));}.mp_loading_txt{width: 100px;height: 30px;line-height: 30px;position: absolute;left: 50%;top: 50%;margin-left: -50px;margin-top: -15px;text-align: center;color: #fff;}",window.document.getElementsByTagName("head")[0].appendChild(e);var f=window.document,g="string"==typeof g?g:"#E44B46",h=f.getElementById("MP_loading"),i=f.getElementById("MP_precent");h||(h=f.createElement("div"),h.className="mp_loading",h.innerHTML='<div class="mp_loading_clip"><div class="mp_loading_bar" style="border-color:"'+g+"></div></div>",i=f.createElement("div"),i.className="mp_loading_txt",h.calssName="mp_loading",i.innerHTML="0%",h.appendChild(i),window.document.body.appendChild(h)),this._loadDom=h,this._txtDom=i;var j=this,k=d;k="function"==typeof k?k:function(){},new c(a).loadstart(function(){}).loadend(function(){j._txtDom.innerHTML=this.percent}).complete(function(){j._loadDom.style.display="none",k.apply(j)})};a.loader=c,a.loadermsk=d}(window);